(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(24)},24:function(t,e,n){"use strict";n.r(e);var a={spriteFinder:function(){var t,e,n,a=[],r={};function i(t,e,n){for(var a in n){var r=n[a];if(t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height)return r}return null}function o(t,e){for(var n=function(t,e,n,a){return{x:t,y:e,width:n,height:a}}(t,e,1,1),a=h(n),r=u(n);d(a,r);){for(var i=0;i<4;i++)r[i]||a[i]||s(n,i);a=h(n),r=u(n)}return function(t){t.width>1&&(t.width-=1);t.height>1&&(t.height-=1)}(n),n}function h(t){return[0===t.x,t.x+t.width===e.width,0===t.y,t.y+t.height===e.height]}function u(e){var n=t.getImageData(e.x-1,e.y,1,e.height).data,a=t.getImageData(e.x+e.width-1,e.y,1,e.height).data,r=t.getImageData(e.x,e.y-1,e.width,1).data,i=t.getImageData(e.x,e.y+e.height-1,e.width,1).data;return[g(n),g(a),g(r),g(i)]}function g(t){for(var e=0;e<t.length;e+=4){var a=[t[e],t[e+1],t[e+2],t[e+3]];if(!r.pixelsEqual(a,n))return!1}return!0}function d(t,e){for(var n=0;n<4;n++)if(!t[n]&&!e[n])return!0;return!1}function s(t,e){switch(e){case 0:t.x-=1,t.width+=1;break;case 1:t.width+=1;break;case 2:t.y-=1,t.height+=1;break;case 3:t.height+=1}}return r.setCanvas=function(n,r,i){e=n,t=r,i,function(t){for(var e=0;e<t.length;e+=4){var n=[t[e],t[e+1],t[e+2],t[e+3]];a.push(n)}}(i.data)},r.comparePixels=function(t,e){return t[0]*Math.pow(100,3)+t[1]*Math.pow(100,2)+100*t[2]+t[3]-(e[0]*Math.pow(100,3)+e[1]*Math.pow(100,2)+100*e[2]+e[3])},r.pixelsEqual=function(t,e){if(0===t[3]&&0===e[3])return!0;for(var n=0;n<4;n++)if(t[n]!==e[n])return!1;return!0},r.getPixelArr=function(){return a},r.setBackgroundCol=function(){for(var t,e=1,i=1,o=a.sort(function(t,e){return r.comparePixels(t,e)}),h=1;h<o.length;h++)r.pixelsEqual(o[h],o[h-1])?i+=1:(i>e&&(e=i,t=o[h-1]),i=1);i>e&&(e=i,t=o[o.length-1]),console.log(t),n=t},r.getBackgroundCol=function(){return n},r.getCanvas=function(){return e},r.findBoxes=function(){for(var e=[],a=r.getCanvas(),h=a.height,u=a.width,g=0;g<h;){for(var d=0;d<u;){var s=t.getImageData(d,g,1,1).data;if(r.pixelsEqual(s,n))d+=1;else{var c=i(d,g,e);null===c?(c=o(d,g),e.push(c),d+=1):d+=c.width}}g+=1}return e},r}()},r=n(10),i=n(0),o=n.n(i),h=n(7),u=n.n(h);document.getElementById("imageLoader").addEventListener("change",function(t){var e=new FileReader;e.onload=function(t){var e=new Image;e.src=t.target.result,e.onload=function(){g.width=e.width,g.height=e.height,d.drawImage(e,0,0);var t=d.getImageData(0,0,g.width,g.height);t.data;a.setCanvas(g,d,t),a.setBackgroundCol();var n=a.findBoxes(),r=JSON.stringify(n);for(var i in console.log(r),n){for(var o=n[i],h=d.getImageData(o.x,o.y,o.width,o.height),u=h.data,c=0;c<u.length;c+=4)u[c]=255-u[c],u[c+1]=255-u[c+1],u[c+2]=255-u[c+2];d.putImageData(h,o.x,o.y)}s.innerText=function(t,e){var n="$spriteMap: ( \n";for(var a in t){var r=t[a],i="sprite"+a+": ("+-r.x+"px, "+-r.y+"px, "+r.width+"px, "+r.height+"px)";n+=i,a!==t.length&&(n+=", \n")}return"@mixin image($xpos, $ypos, $width, $height) { \nheight: $height; \nwidth: width; \nbackground-position: $xpos $ypos; \nbackground-repeat: no-repeat; \n};\n"+(n+="); \n")}(n,e.src)}},e.readAsDataURL(t.target.files[0])},!1);var g=document.getElementById("imageCanvas"),d=g.getContext("2d"),s=document.getElementById("spriteDisplay");u.a.render(o.a.createElement(r.a,{basename:"/sprite-finder"}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.734b969e.chunk.js.map